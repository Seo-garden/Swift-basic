# 화면 전환

iOS에서 화면 전환 방법은 크게 두가지가 있다. 하나는 소스 코드를 통해 전환하는 방식이고, 다른 하나는 스토리보드가 제공하는 기능을 이용하여 전환하는 방식이다. 일반적으로 동적인 방식과 정적인 방식의 차이는 특정 상황에 대응할 수 있느냐 아니냐를 기준으로 나눈다. 동적인 방식은 일괄적으로 적용되는 것이라 특정 상황에 대응하기 어렵지만 그만큼 구현하기는 쉽다는 장점이 있다.

### 4.1 iOS 에서의 화면 전환 개념

iOS 에서 화면 전환 방식 4가지

    1. 뷰 컨트롤러의 뷰 위에 다른 뷰를 가져와 바꿔치기
    2. 뷰 컨트롤러에서 다른 뷰 컨트롤러를 호출하여 화면 전환하기
    3. 내비게이션 컨트롤러를 사용하여 화면 전환하기
    4. 화면 전환용 객체 세그웨이(Sequeway)를 사용하여 화면 전환하기

1번은 특수한 상황에서 제한적으로 사용하는 방식이다. 일부 뷰 컨트롤러들은 콘텐츠를 직접 배치하여 화면을 보여주는 역할 대신 다른 뷰 컨트롤러를 구조화하는 역할을 하는데, 이때 화면을 구조화 하는 방식이다. 이같은 뷰 컨트롤러를 컨테이너 뷰 컨트롤러라고 한다. 

1번을 제외한 나머지 대부분의 화면 전환은 모두 뷰 컨트롤러를 호출하는 방식인데, 현재의 화면이 다른 화면으로 완전히 교체되는 것이 아니라 현재 화면이 있는 상태에서 그 위에 새로운 화면을 얹는 것이다.

iOS 에서 화면 전환은 다음 두 가지 특성을 가진다.

    다음 화면으로 이동하는 방법과 이전 화면으로 되돌아가는 방법이 다름
    화면 전환 방식에 따라 이전 화면으로 되돌아가는 방법이 다름
    
다음화면으로 이동하는 과정은 기존 화면 위에 새로운 화면을 +1 하는 것이고, 이전 화면으로 되돌아가는 과정은 현재 상태에서 제일 위의 화면을 걷어내는 방식이므로 의미상 -1이다.

### 4.3 화면 전환 기법2 : 뷰 컨트롤러 직접 호출에 의한 화면 전환

현재의 뷰 컨트롤러에서 이동할 대상 뷰 컨트롤러를 직접 호출해서 화면을 표시하는 방법이다. 프레젠테이션 방식 이라고 부른다.
    
    present(<새로운 뷰컨트롤러 인스턴스>, animated : <애니메이션 여부>)
    
이 present 메소드는 두 개의 인자값을 입력받는데, 첫 번째 인자값은 새로운 화면을 담당하는 뷰 컨트롤러의 인스턴스이다. present 메소드는 입력받은 인스턴스를 사용하여 새로운 화면을 스크린에 나타냅니다. 화면을 전환할 때에는 필요에 따라 애니메이션 효과를 줄 수 있는데, 프레젠트 메소드의 두 번쨰 인자값이 이를 결정한다. 두 번째 인자값에 false 를 입력하면 아무런 효과없이 화면이 바뀌지만, true를 입력하면 화면 전환 시 애니메이션 효과가 적용됨. 떄로는 화면 전환이 완료되는 시점에 맞추어 특정 로직을 실행해 주어야 할 경우도 있다. 

    present(_: animated:completion:)

세 번째 매개변수는 실행 구문을 클로저나 함수 형식으로 입력받아, 화면 전환이 완전히 끝난 후에 호출해주는 역할이다. 화면 전환은 때로 시간이 걸리는 작업이라, 화면 전환 과정이 끝나기를 기다리지 않고 다음 라인에 작성된 코드를 이어서 실행하기 때문이다. 

이같이 하나의 처리를 끝나기를 기다리지 않고 다음 작업을 바로 이어서 수행하는 방식을 비동기 방식이라고 한다. 화면 전환은 비동기 방식으로 동작하기 떄문에, 화면 전환이 완전히 끝난 후에 실행해야 할 구문이 있다면 클로저나 함수 형식으로 작성하여 프레젠트 메소드의 세 번 째 인자값에 넣은 다음, 시스템이 알맞게 호출해 주기를 기다려야 한다.

프레젠트 메소드를 이용한 화면 전환은 기존의 뷰 컨트롤러를 그대로 둔 채, 그위에 새로운 뷰 컨트롤러의 화면을 덮는 방식이다.

화면을 전환할 때 프레젠트 메소드를 이용했다면, 이전 화면으로 복귀할 때는 dismiss(animated:) 복귀 메서드를 사용한다. 이전 화면으로 돌아가는 기능이기 때문에 뷰 컨트롤러의 인스턴스를 인자값으로 받지 않는다. 화면 복귀 시 애니메이션을 적용할지 말지를 결정하는 값만 전달해주면 되는 것이다. present 메소드를 이용해서 이전 화면을 호출할 경우 계속 메모리가 남아 앱이 불안정한 상태가 되기 때문에, 화면을 띄울 때 present 메소드를 사용했다면, 띄운 화면을 제거할 떄는 dismiss 메소드를 써야 한다.

### 4.3.1 화면 전환

뷰 컨트롤러를 통째로 보조 에디터로 드래그하여 @IBOutlet 으로 생성하면 되지 않겠냐 ? -> 뷰 컨트롤러를 참조하려면 스토리보드의 속성값을 이용해야 한다. 
