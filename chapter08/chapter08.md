# 테이블 뷰를 이용한 데이터 목록 구현

앱에서 제공하는 콘텐츠는 생각보다 방대하다. 사용자가 효율적으로 콘텐츠에 접근할 수 있도록 하려면 콘텐츠의 성격에 따라 앱의 구조와 UI 를 고려해야 하는데, 이때 사용되는 것이 테이블 뷰 컨트롤러 이다. 테이블 뷰 컨트롤러의 표면적 역할은 목록 형태의 콘텐츠를 화면에 표현해주는 것이다. 하지만 그 역할을 자세히 들여다보면 계층 구조를 이루는 콘텐츠의 상위 카테고리를 정렬하여 표현함으로써 방대한 콘텐츠 속에서도 사용자가 원하는 항목을 쉽게 접근할 수 있게 해주는 특성을 지니고 있다.

테이블 뷰 컨트롤러와 내비게이션 컨트롤러는 계층적 성격의 콘텐츠를 표현해주기 위해 상호 보완적인 역할을 한다.   
테이블 뷰 컨트롤러를 이용하여 수평적 관계의 카테고리나 콘텐츠를 병렬로 배열하고, 수직적 관계로 세분한 정보들을 내비게이션 컨트롤러를 통해 직렬로 표현하여 전체적인 앱의 콘텐츠 표현 구조를 구성한다. 데이터베이스 설계 원리의 선택도(Cardinality)

### 8.1 테이블 뷰 컨트롤러

테이블 뷰 컨트롤러는 뷰 컨트롤러를 바탕으로 만들어진 특수한 컨트롤러 이다. 테이블 뷰 컨트롤러에는 테이블 뷰가 루트 뷰로 정의되어 있는데, 이 테이블 뷰는 목록 형식의 데이터를 화면에 표현하는 데에 사용된다. 테이블 뷰 컨트롤러의 계층 구조는 다음과 같다

    테이블 뷰 컨트롤러 > 테이블 뷰 > 테이블 뷰 셀 > 콘텐츠 뷰 
    
테이블 뷰 컨트롤러를 추가하면 테이블 뷰가 자동으로 포함된다. 여기에 그대로 데이터를 채워 넣으면 손쉽게 목록 형태의 화면을 구현할 수 있다. 그러나 때에 따라서는 일반 뷰 컨트롤러에 테이블 뷰 객체만 직접 추가하여 화면을 구현하는 경우도 있다. 이런 경우 하나의 뷰 컨트롤러 내부에 여러 개의 테이블 뷰가 있을 수 있고 각 테이블 뷰마다 다시 여러 개의 섹션이, 그 섹션 하위에 여러 개의 테이블 뷰 셀이 포함될 수 있다. UITableViewCOntroller 클래스에는 델리게이트 패턴에 기반한 다양한 메소드가 정의되어 있는데, 이들의 역할은 데이터를 이용하여 목록을 구성하고, 목록에 대한 사용자의 상호 반응을 지원하는 것이다.

### 8.2 프로토타입 쉘

프로토타입 셀은 테이블 뷰의 셀을 원하는 대로 쉽게 디자인할 수 있도록 해주는 객체로, 테이블 뷰를 설계하는 데에 걸리는 시간과 노력을 줄여준다. 프로토타입 쉘은 버튼이나 텍스트 레이블과 달리 직접 데이터를 표시하거나 화면에 공간을 차지하지는 않는다. 프로토타입 셀은 크게 두 개의 영역으로 구분한다.

    CellContent - 셀에 표현될 콘텐츠
    Accessary View - 콘텐츠의 부가 정보 여부를 암시
    
일반적으로 프로토타입 쉘을 이용해 콘텐츠를 표현할 때의 작업 대부분은 Cell Content 영역에서 이루어 집니다. 앱의 실행되는 모바일 디바이스의 크기에 따라 가로 너비가 달라질 경우 테이블 뷰의 길이도 적절히 변경되어야 하는데, 이때 Accessary View 영역은 너비가 고정값을 유지하는 반면 Cell Content 영역은 가변적인 너비값으로 처리된다. 따라서 Cell Content 영역에 콘텐츠를 배치할 때는 기기에 따른 가로 길이의 변화에도 신경써야 한다.

### 8.2.1 프로토타입 셀을 이용한 테이블 뷰

프로토타입 셀은 다르다. 아울렛 변수를 연결하지 않고 아이디를 부여한다. 이는 프로토타입 셀이 실제로 화면에 표시되는 컨트롤이 아니기 때문이다. 

### 8.3 데이터 소스

데이터 소스를 테이블 뷰 각 행에 연결하는 과정을 데이터 바인딩이라고 한다.

#### 리팩토링

소프트웨어 공학에서 리팩토링은 코드의 결과나 성능에는 영향을 미치지 않고 단지 가독성과 유지 보수의 편의를 위해 더 세련되고 구조화된 코드로 변경되는 것을 말한다. 

